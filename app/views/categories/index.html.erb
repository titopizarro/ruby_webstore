<p id="notice"><%= notice %></p>

<div class="row justify-content-center">
  <div class="col-md-6 col-sm-12 align-self-center">
    <div class="d-flex justify-content-between align-items-center">
      <h1>Categories</h1>
      <div><%= link_to 'New Category', new_category_path, remote: true %></div>
    </div>

    <ul id="category-list" class="list-group list-group-flush">
      <% @categories.each do |category| %>
        <li
          id="category-<%= category.id %>" 
          class="list-group-item">
          
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h4><%= category.name %></h4>
            </div> 

            <div id="dropdown-<%= category.id %>" class="btn-group dropleft">
              <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <svg style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                  <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                </svg>
              </button>
              <div class="dropdown-menu">
                <!-- Dropdown menu links -->
                <%= link_to 'Show', category, :class => "dropdown-item text-secondary" %>
                <%= link_to 'Edit', edit_category_path(category), method: :get, remote: true, :class => "dropdown-item text-primary" %>
                <%= link_to 'Remove', category, method: :delete, remote: true, :class => "dropdown-item text-danger" %>
              </div>
            </div>
          </div>

          <div id="products">
            <span class="text-muted">Products: </span>
            <% category.products.each do |product| %>
              <a href="/products/<%= product.id %>" class="d-inline-flex p-1"> <%= product.name %> </a>
            <% end %>
          </div>
          
        </li>
      <% end %>
    </ul>
  </div>
</div>

<!-- CATEGORY MODAL -->
<div class="modal fade" id="categoryModal" tabindex="-1" aria-labelledby="categoryModal" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

    </div>
  </div>
</div>
